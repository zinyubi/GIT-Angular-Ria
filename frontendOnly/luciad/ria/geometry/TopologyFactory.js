import{ReferenceType}from"../reference/ReferenceType.js";import{ProgrammingError}from"../error/ProgrammingError.js";import{TopologyUtilCartesian}from"./topologyutil/TopologyUtilCartesian.js";import{TopologyUtilEllipsoidal}from"./topologyutil/TopologyUtilEllipsoidal.js";import{SegmentIntersectionCalculator}from"./SegmentIntersectionCalculator.js";import{GeoReference}from"../reference/GeoReference.js";class TopologyImpl{constructor(e){this._topologyUtil=e;this._intersector=new SegmentIntersectionCalculator(e)}calculateIntersections(e,o){return this._intersector.calculateIntersectionPoints(e,o)}}function createCartesianTopology(e){if(e&&e instanceof GeoReference&&e.referenceType===ReferenceType.GEODETIC)throw new ProgrammingError("Cannot create Cartesian Topology: incompatible reference");return new TopologyImpl(new TopologyUtilCartesian(1e-4))}function createEllipsoidalTopology(e){if(!e||e instanceof GeoReference&&e.referenceType!==ReferenceType.GEODETIC)throw new ProgrammingError("Cannot create Ellipsoidal Topology: incompatible reference");return new TopologyImpl(new TopologyUtilEllipsoidal(1e-10,e.geodeticDatum.ellipsoid))}export{createCartesianTopology,createEllipsoidalTopology};