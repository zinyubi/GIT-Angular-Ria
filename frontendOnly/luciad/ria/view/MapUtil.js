import{ReferenceType}from"../reference/ReferenceType.js";import{Axis}from"../reference/Axis.js";import{Constants}from"../util/Constants.js";import{GridReference}from"../reference/GridReference.js";import{OrthographicCamera}from"./camera/OrthographicCamera.js";export const is3DWorldReference=e=>e.referenceType===ReferenceType.GEOCENTRIC||e.referenceType===ReferenceType.CARTESIAN&&!!e.getAxis(Axis.Name.Z);export function getNumberOfVisibleWorlds(e){if(!e.wrapAroundWorld||!(e.reference instanceof GridReference)||!(e.camera instanceof OrthographicCamera))return 1;const{worldOrigin:r,scaleX:n,viewOrigin:o,rotation:t}=e.camera.asLook2D();const s=e.viewSize[0];const c=e.viewSize[1];const i=Math.abs(Math.sin(t*Constants.DEG2RAD));const a=Math.abs(Math.cos(t*Constants.DEG2RAD));const f=a*o.x+i*o.y;const m=a*(s-o.x)+i*(c-o.y);const p=r.x-f/n;const d=undefined;const R=undefined;return(r.x+m/n-p)/e.reference.bounds.width}