import{ProgrammingError}from"../../error/ProgrammingError.js";import{isDefined}from"../../util/Lang.js";import{RasterImageLayer}from"./RasterImageLayer.js";export class WMSImageLayer extends RasterImageLayer{constructor(e,r){super(e,r)}get queryable(){return this.model.queryable}get model(){return super.model}getFeatureInfo(e,r,t){if(!isDefined(this._map))throw new ProgrammingError("A layer must first be added to a map before feature info can be retrieved."+" Otherwise the visualization info necessary for the request cannot be determined.");if(!isDefined(e)||!isDefined(r))throw new ProgrammingError(`The x- and y- view coordinates should be defined, but were [${e},${r}]`);const o=this.calculateImageLocation(e,r);if(null===o)return null;if(t){o.infoFormat=t.infoFormat;o.featureCount=t.featureCount}return this.model.getFeatureInfo(o)}}