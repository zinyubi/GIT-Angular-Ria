import{Shape}from"../../shape/Shape.js";import{ShapeTranslateHandle}from"./handles/ShapeTranslateHandle.js";import{DelegatingEditingGeoCanvas}from"../style/DelegatingEditingGeoCanvas.js";import{ProgrammingError}from"../../error/ProgrammingError.js";export class Editor{constructor(){}canEdit(e){return false}saveState(e){if(!e.feature.shape)throw new ProgrammingError("Cannot edit a feature without a shape.");return e.feature.shape.copy()}restoreState(e,t){if(e instanceof Shape)t.feature.shape=e}getEditHandles(e){const t=this.createTranslateHandle(e);if(t)return[t];return[]}createTranslateHandle(e){const t=e.shape;return new ShapeTranslateHandle(t)}getCreateHandle(e){return null}}export function getConstrainedShape(e,t,a,r){DelegatingEditingGeoCanvas.resetEditingGeometry();const n=new DelegatingEditingGeoCanvas;a.painter.paintBody(n,e,t,a,r,{selected:false,editing:true});return DelegatingEditingGeoCanvas.getEditingGeometry()}