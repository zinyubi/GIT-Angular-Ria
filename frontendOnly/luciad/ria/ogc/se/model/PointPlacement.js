import{SEElement}from"./SEElement.js";import{SEElementType}from"./SEElementType.js";export class PointPlacement extends SEElement{static VALID_CHILDREN=["AnchorPoint","Displacement","Rotation"];_anchorPoint=null;_displacement=null;_rotation=null;constructor(){super(SEElementType.POINT_PLACEMENT)}get anchorPoint(){return this._anchorPoint}set anchorPoint(t){if(t){t.eventedSupport=this.eventedSupport;t.x.eventedSupport=this.eventedSupport;t.y.eventedSupport=this.eventedSupport}this._anchorPoint=t}get displacement(){return this._displacement}set displacement(t){if(t){t.eventedSupport=this.eventedSupport;t.x.eventedSupport=this.eventedSupport;t.y.eventedSupport=this.eventedSupport}this._displacement=t}get rotation(){return this._rotation}set rotation(t){this._rotation=t;this._rotation?.createNumberEvaluationFunction()}createLabelPlacementSpecifics(t,e){return{lpType:SEElementType.POINT_PLACEMENT,style:{offset:[this._displacement?.x.evaluateContentAsNumber(t,e)??0,-(this._displacement?.y.evaluateContentAsNumber(t,e)??0)],rotation:this._rotation?.evaluateContentAsNumber(t,e),anchorX:this.anchorPoint?.x.evaluateContentAsNumber(t,e)??.5,anchorY:1-(this.anchorPoint?.y.evaluateContentAsNumber(t,e)??.5)}}}appendTextSyle(t,e,n){if(this._rotation)n.angle=this._rotation.evaluateContentAsNumber(t,e);else n.angle=0;if(this._displacement){n.offsetX=this._displacement.x.evaluateContentAsNumber(t,e);n.offsetY=-this._displacement.y.evaluateContentAsNumber(t,e)}else{n.offsetX=0;n.offsetY=0}if(this._anchorPoint){n.textAnchor=100*this._anchorPoint.x?.evaluateContentAsNumber(t,e)+"%";n.alignmentBaseline=100*(1-this._anchorPoint.y?.evaluateContentAsNumber(t,e))+"%"}else{n.textAnchor="50%";n.alignmentBaseline="50%"}}createCSPatterns(t,e,n,o,i){return null}}