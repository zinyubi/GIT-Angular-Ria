var BAD=30;var TYPE=12;export var inffast=function i(a,e){var r;var v;var o;var t;var f;var l;var n;var d;var s;var b;var c;var u;var w;var h;var m;var k;var _;var x;var g;var A;var B;var D;var p;var E,P;r=a.state;v=a.next_in;E=a.input;o=v+(a.avail_in-5);t=a.next_out;P=a.output;f=t-(e-a.avail_out);l=t+(a.avail_out-257);n=r.dmax;d=r.wsize;s=r.whave;b=r.wnext;c=r.window;u=r.hold;w=r.bits;h=r.lencode;m=r.distcode;k=(1<<r.lenbits)-1;_=(1<<r.distbits)-1;i:do{if(w<15){u+=E[v++]<<w;w+=8;u+=E[v++]<<w;w+=8}x=h[u&k];a:for(;;){u>>>=g=x>>>24;w-=g;if(0===(g=x>>>16&255))P[t++]=65535&x;else if(16&g){A=65535&x;if(g&=15){if(w<g){u+=E[v++]<<w;w+=8}A+=u&(1<<g)-1;u>>>=g;w-=g}if(w<15){u+=E[v++]<<w;w+=8;u+=E[v++]<<w;w+=8}x=m[u&_];e:for(;;){u>>>=g=x>>>24;w-=g;if(16&(g=x>>>16&255)){B=65535&x;if(w<(g&=15)){u+=E[v++]<<w;if((w+=8)<g){u+=E[v++]<<w;w+=8}}if((B+=u&(1<<g)-1)>n){a.msg="invalid distance too far back";r.mode=BAD;break i}u>>>=g;w-=g;if(B>(g=t-f)){if((g=B-g)>s)if(r.sane){a.msg="invalid distance too far back";r.mode=BAD;break i}D=0;p=c;if(0===b){D+=d-g;if(g<A){A-=g;do{P[t++]=c[D++]}while(--g);D=t-B;p=P}}else if(b<g){D+=d+b-g;if((g-=b)<A){A-=g;do{P[t++]=c[D++]}while(--g);D=0;if(b<A){A-=g=b;do{P[t++]=c[D++]}while(--g);D=t-B;p=P}}}else{D+=b-g;if(g<A){A-=g;do{P[t++]=c[D++]}while(--g);D=t-B;p=P}}while(A>2){P[t++]=p[D++];P[t++]=p[D++];P[t++]=p[D++];A-=3}if(A){P[t++]=p[D++];if(A>1)P[t++]=p[D++]}}else{D=t-B;do{P[t++]=P[D++];P[t++]=P[D++];P[t++]=P[D++];A-=3}while(A>2);if(A){P[t++]=P[D++];if(A>1)P[t++]=P[D++]}}}else if(0===(64&g)){x=m[(65535&x)+(u&(1<<g)-1)];continue e}else{a.msg="invalid distance code";r.mode=BAD;break i}break}}else if(0===(64&g)){x=h[(65535&x)+(u&(1<<g)-1)];continue a}else if(32&g){r.mode=TYPE;break i}else{a.msg="invalid literal/length code";r.mode=BAD;break i}break}}while(v<o&&t<l);v-=A=w>>3;u&=(1<<(w-=A<<3))-1;a.next_in=v;a.next_out=t;a.avail_in=v<o?5+(o-v):5-(v-o);a.avail_out=t<l?257+(l-t):257-(t-l);r.hold=u;r.bits=w;return};