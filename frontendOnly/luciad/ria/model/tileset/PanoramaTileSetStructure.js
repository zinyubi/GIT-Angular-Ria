import{ProgrammingError}from"../../error/ProgrammingError.js";import{isUndefined}from"../../util/Lang.js";class PowerOfTwoTileSetStructure{constructor(e){this._levelCount=!isUndefined(e.levelCount)?e.levelCount:1;this._level0Columns=!isUndefined(e.level0Columns)?e.level0Columns:1;this._level0Rows=!isUndefined(e.level0Rows)?e.level0Rows:1;this._tileWidth=e.tileWidth;this._tileHeight=e.tileHeight;this._imageDataFractionX=!isUndefined(e.imageDataFractionX)?e.imageDataFractionX:1;this._imageDataFractionY=!isUndefined(e.imageDataFractionY)?e.imageDataFractionY:1}getTileColumnCount(e){if(e<0||e>=this._levelCount)return null;const t=this._level0Columns*Math.pow(2,e);return Math.ceil(this.imageDataFractionX*t)}getTileHeight(e){if(e<0||e>=this._levelCount)return null;return this._tileHeight}getTileRowCount(e){if(e<0||e>=this._levelCount)return null;const t=this._level0Rows*Math.pow(2,e);return Math.ceil(this.imageDataFractionY*t)}getTileWidth(e){if(e<0||e>=this._levelCount)return null;return this._tileWidth}get level0Rows(){return this._level0Rows}get level0Columns(){return this._level0Columns}get levelCount(){return this._levelCount}get imageDataFractionX(){return this._imageDataFractionX}get imageDataFractionY(){return this._imageDataFractionY}}export const createPowerOfTwoStructure=e=>{if("undefined"===typeof e.tileWidth)throw new ProgrammingError("You must specify the tileWidth option");if("undefined"===typeof e.tileHeight)throw new ProgrammingError("You must specify the tileHeight option");return new PowerOfTwoTileSetStructure(e)};