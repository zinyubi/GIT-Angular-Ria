<section class="tool-card" [class.open]="open">
  <header class="tool-header" (click)="toggleOpen(!open)">
    <h3>Deployment</h3>
    <span class="chev" [class.rotated]="open">‚ñæ</span>
  </header>

  <div class="tool-body" *ngIf="open">
    <form (ngSubmit)="deploy.emit()" class="form-grid" novalidate>
      <label>
        <span>Aircraft Type</span>
        <select [(ngModel)]="formValue.aircraft_type" name="aircraft_type"
                required (ngModelChange)="formValueChange.emit(formValue)">
          <option value="" disabled>Select Type</option>
          <option *ngFor="let type of aircraftTypes" [value]="type.id">
            {{ type.name }} ({{ type.model }})
          </option>
        </select>
      </label>

      <label>
        <span>Name</span>
        <input type="text" [(ngModel)]="formValue.name" name="name" autocomplete="off"
               (ngModelChange)="formValueChange.emit(formValue)" />
      </label>

      <label>
        <span>Latitude</span>
        <div class="inline-input">
          <input type="number" step="any" inputmode="decimal"
                 [(ngModel)]="formValue.initial_latitude" name="initial_latitude"
                 (ngModelChange)="formValueChange.emit(formValue)" />
          <button type="button" class="btn-ghost" (click)="requestPick.emit()" title="Pick on map">üìç</button>
        </div>
      </label>

      <label>
        <span>Longitude</span>
        <input type="number" step="any" inputmode="decimal"
               [(ngModel)]="formValue.initial_longitude" name="initial_longitude"
               (ngModelChange)="formValueChange.emit(formValue)" />
      </label>

      <label>
        <span>Altitude (m)</span>
        <input type="number" step="1" inputmode="numeric"
               [(ngModel)]="formValue.initial_altitude_m" name="initial_altitude_m"
               (ngModelChange)="formValueChange.emit(formValue)" />
      </label>

      <div class="form-actions">
        <button type="submit" class="btn-primary" [disabled]="deploying">Deploy Aircraft</button>
      </div>
    </form>
  </div>
</section>
