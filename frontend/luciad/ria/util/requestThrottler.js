export class RequestThrottler{constructor(e){this._maxRequestsInFlight=e;this._requestsInFlight=0;this._queue=[]}scheduleRequest(){if(this._requestsInFlight<this._maxRequestsInFlight){this._requestsInFlight++;return Promise.resolve()}else return new Promise((e=>{this._queue.push(e)}))}finishRequest(){this._requestsInFlight--;if(this._requestsInFlight<this._maxRequestsInFlight&&this._queue.length>0){this._requestsInFlight++;const e=undefined;this._queue.shift()()}}}