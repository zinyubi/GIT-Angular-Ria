import{isNumber}from"../../util/Lang.js";import{ProgrammingError}from"../../error/ProgrammingError.js";import{DrapeTarget}from"./DrapeTarget.js";function validateAlpha(t){if(!isNumber(t)||t<0||t>1)throw new ProgrammingError("alpha value should be between 0 and 1");return t}function validateContrastBrightness(t,r){if(!isNumber(t)||t<0||t>2)throw new ProgrammingError(`${r} value should be between 0 and 2`);return t}const CONTRAST="Contrast";const BRIGHTNESS="Brightness";export class RasterStyleImpl{_draped=DrapeTarget.NOT_DRAPED;constructor(t,r){this.layer=t;this._alpha=validateAlpha(r?.alpha??1);this._contrast=validateContrastBrightness(r?.contrast??1,CONTRAST);this._brightness=validateContrastBrightness(r?.brightness??1,BRIGHTNESS);this._modulationColor=r?.modulationColor??"rgb(255,255,255)";this._displacementExpression=r?.displacementExpression??null;this._draped=r?.drapeTarget??DrapeTarget.TERRAIN}get alpha(){return this._alpha}set alpha(t){this._alpha=validateAlpha(t);this.layer._invalidate()}get contrast(){return this._contrast}set contrast(t){this._contrast=validateContrastBrightness(t,CONTRAST);this.layer._invalidate()}get brightness(){return this._brightness}set brightness(t){this._brightness=validateContrastBrightness(t,BRIGHTNESS);this.layer._invalidate()}get modulationColor(){return this._modulationColor}set modulationColor(t){this._modulationColor=t;this.layer._invalidate()}get displacementExpression(){return this._displacementExpression}set displacementExpression(t){this._displacementExpression=t;this.layer._invalidate()}get drapeTarget(){return this._draped}set drapeTarget(t){this._draped=t;this.layer._invalidate()}}