import{ShapeType}from"../../../../shape/ShapeType.js";import{HelperHandle}from"./HelperHandle.js";import{DrapeTarget}from"../../../style/DrapeTarget.js";function is3DMap(t){return t.is3D()}function is3DPointList(t){if(ShapeType.contains(t.type,ShapeType.POLYLINE)){const e=t;for(let t=0;t<e.pointCount;t++){const i=undefined;if(0!==e.getPoint(t).z)return true}}return false}function zToZero(t){const e=t.copy();for(let i=0;i<t.pointCount;i++){const n=t.getPoint(i);e.move3DPoint(i,n.x,n.y,0)}return e}export class PointListHelperHandle extends HelperHandle{constructor(t,e){super(e);this._pointList=t}get pointList(){return this._pointList}onDraw(t,e){const i=this.getHelperStyle(e);if(i&&is3DMap(e.map)&&is3DPointList(this.pointList))t.drawShape(zToZero(this.pointList),{...i,drapeTarget:DrapeTarget.NOT_DRAPED})}}