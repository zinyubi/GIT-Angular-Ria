import{isIE}from"../../util/Browser.js";import{createPoint}from"../../shape/ShapeFactory.js";import{ModifierType}from"./ModifierType.js";import{isNumber}from"../../util/Lang.js";const EVENT_TYPE="GESTURE";export class GestureEventImpl{_locationPageX=null;_locationPageY=null;_locationClientX=null;_locationClientY=null;constructor(t,i,e){this._map=t;this._inputType=e;this._type=i;this._modifier=ModifierType.NO_MOD}copy(){const t=new GestureEventImpl(this.map,this.type,this.inputType);for(const i in this)if(this.hasOwnProperty(i))t[i]=this[i];return t}get map(){return this._map}get eventType(){return EVENT_TYPE}isRight(){return 2===this._domEvent.button}isModified(){return this._modifier!==ModifierType.NO_MOD}get inputType(){return this._inputType}get type(){return this._type}get modifier(){return this._modifier}set modifier(t){this._modifier=t}get domEvent(){return this._domEvent}set domEvent(t){this._domEvent=t}get viewPoint(){return createPoint(null,this.viewPosition)}get viewPosition(){const t=this._map._nodePosition;const i=this.clientPosition;return[i[0]-t.left,i[1]-t.top]}get location(){const t=this.clientPosition;const i=this.pagePosition;return{pageX:i[0],pageY:i[1],clientX:t[0],clientY:t[1]}}set location(t){if(isNumber(t.pageX))this._locationPageX=t.pageX;if(isNumber(t.pageY))this._locationPageY=t.pageY;if(isNumber(t.clientX))this._locationClientX=t.clientX;if(isNumber(t.clientY))this._locationClientY=t.clientY}get pagePosition(){if(isNumber(this._locationPageX)&&isNumber(this._locationPageY)&&!isIE())return[this._locationPageX,this._locationPageY];const t=window.document;const i=t.parentWindow||t.defaultView;const e=this._locationClientX??0;const o=this._locationClientY??0;const n=e+(i.pageXOffset||0);const s=o+(i.pageYOffset||0);this._locationPageX=n;this._locationPageY=s;return[n,s]}get clientPosition(){if(isNumber(this._locationClientX)&&isNumber(this._locationClientY))return[this._locationClientX,this._locationClientY];const t=window.document;const i=t.parentWindow||t.defaultView;const e=this._locationPageX??0;const o=this._locationPageY??0;const n=e-(i.pageXOffset||0);const s=o-(i.pageYOffset||0);this._locationClientX=n;this._locationClientY=s;return[n,s]}}