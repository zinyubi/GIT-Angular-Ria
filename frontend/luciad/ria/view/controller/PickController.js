import{Controller}from"./Controller.js";import{PaintRepresentation}from"../PaintRepresentation.js";import{HandleEventResult}from"./HandleEventResult.js";export class PickController extends Controller{constructor(){super()}onGestureEvent(t){if(!this.map)return HandleEventResult.EVENT_IGNORED;if(this.isPickEvent(t)){const e=this.getPickPoint(t);const n=this.getSensitivity(t);const i=this.getPaintRepresentations(t);const s=this.isPickMultiple(t);const r=this.getCandidates(e,n,i,s);return this.handleCandidates(t,r)}return HandleEventResult.EVENT_IGNORED}getCandidates(t,e,n,i){if(!this.map||!t)return[];const s=!i;const r=1+2*e;const o=this.map._pickRect(t.x,t.y,r,r,s,false,(()=>true),n);return Array.isArray(o)?o:o?[o]:[]}isPickMultiple(t){return false}getPickPoint(t){return t.viewPoint}getSensitivity(t){return"mouse"===t.inputType?1:"touch"===t.inputType?30:0}getPaintRepresentations(t){return[PaintRepresentation.LABEL,PaintRepresentation.BODY]}}