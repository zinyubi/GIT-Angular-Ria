import{GestureEventType}from"../input/GestureEventType.js";import{PickController}from"./PickController.js";import{HandleEventResult}from"./HandleEventResult.js";export class ContextMenuController extends PickController{constructor(){super()}isPickEvent(e){return e.type===GestureEventType.CONTEXT_MENU||e.type===GestureEventType.LONG_PRESS}getCandidates(e,t,n,r){if(!this.map||!e)return[];const s=!r;const o=1+2*t;const l=this.map._pickRect(e.x,e.y,o,o,s,false,(e=>!!e.selectable),n);return Array.isArray(l)?l:l?[l]:[]}handleCandidates(e,t){if(!this.map)return HandleEventResult.EVENT_IGNORED;const n=t[0]??null;const r=undefined;return this.map.showContextMenu(e.pagePosition,n)?HandleEventResult.EVENT_HANDLED:HandleEventResult.EVENT_IGNORED}}