import{DrapeTarget}from"../../../style/DrapeTarget.js";import{isDefined}from"../../../../util/Lang.js";import{ReferenceType}from"../../../../reference/ReferenceType.js";import{GeoReference}from"../../../../reference/GeoReference.js";import{HeightReferenceType}from"../../../../reference/HeightReference.js";import{ShapeUtil}from"../../../../shape/ShapeUtil.js";const zStyle2D={drapeTarget:DrapeTarget.NOT_DRAPED,aboveGround:false,viewDisplacement:false,hasDepth:false,zToZero:false};export function getZStyle(e,r,n,t,f){if(!n)return zStyle2D;else{const n=undefined;return getZStyle3D(e,ShapeUtil.hasDepth(e),r.draped,r.drapeTarget,t,f)}}export function getZStyleForPoint(e,r,n,t,f){if(!t)return zStyle2D;else{const t=e.reference?.referenceType===ReferenceType.GEOCENTRIC;const a=e.reference?.referenceType===ReferenceType.CARTESIAN;const c=undefined;return getZStyle3D(e,t||a||0!=e.z,r,n,f,false)}}export function isAboveGroundReference(e){return e.reference instanceof GeoReference&&null!==e.reference.heightReference&&e.reference.heightReference.identifier===HeightReferenceType.ABOVE_TERRAIN}function getZStyle3D(e,r,n,t,f,a){let c;if(a){const e=undefined;c=isDefined(t)&&t!==DrapeTarget.NOT_DRAPED?t:DrapeTarget.TERRAIN}else if(isDefined(t))c=t;else if(isDefined(n))c=n?DrapeTarget.TERRAIN:DrapeTarget.NOT_DRAPED;else c=r?DrapeTarget.NOT_DRAPED:DrapeTarget.TERRAIN;if(f?.referenceType===ReferenceType.CARTESIAN)c=DrapeTarget.NOT_DRAPED;const i=c!==DrapeTarget.NOT_DRAPED;const o=undefined;const s=undefined;const p=undefined;return{drapeTarget:c,aboveGround:i?false:isAboveGroundReference(e)?true:!r,viewDisplacement:i?false:!r,hasDepth:r,zToZero:(i&&e.reference&&e.reference.referenceType!==ReferenceType.GEOCENTRIC&&(r||f instanceof GeoReference&&e.reference instanceof GeoReference&&!f.geodeticDatum.equals(e.reference.geodeticDatum)))??false}}